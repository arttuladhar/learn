<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>04 - Kubernetes Building Blocks :: Always Learning; Always Improving</title>

    
    <link href="/css/nucleus.css?1573879843" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1573879843" rel="stylesheet">
    <link href="/css/hybrid.css?1573879843" rel="stylesheet">
    <link href="/css/featherlight.min.css?1573879843" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1573879843" rel="stylesheet">
    <link href="/css/auto-complete.css?1573879843" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1573879843" rel="stylesheet">
    <link href="/css/theme.css?1573879843" rel="stylesheet">
    <link href="/css/hugo-theme.css?1573879843" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1573879843"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/introduction-to-kubernetes/kubernetes/04_kubernetes_building_blocks/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://learn.aayushtuladhar.com">
<div>Always Learning,</br>
  Always Improving</div>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1573879843"></script>
<script type="text/javascript" src="/js/auto-complete.js?1573879843"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/learn.aayushtuladhar.com";
    
</script>
<script type="text/javascript" src="/js/search.js?1573879843"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/devops/" title="DevOps" class="dd-item 
        
        
        
        ">
      <a href="/devops/">
          DevOps
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/devops/openshift/" title="OpenShift" class="dd-item ">
        <a href="/devops/openshift/">
        OpenShift
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/google-cloud-platform/" title="Google Cloud Platform" class="dd-item 
        
        
        
        ">
      <a href="/google-cloud-platform/">
          Google Cloud Platform
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/google-cloud-platform/basic-essentials/" title="Basic Essentials" class="dd-item ">
        <a href="/google-cloud-platform/basic-essentials/">
        Basic Essentials
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-cloud-platform/cloud-storage/" title="Cloud Storage" class="dd-item ">
        <a href="/google-cloud-platform/cloud-storage/">
        Cloud Storage
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-cloud-platform/continuous-delivery-with-jenkins-in-kubernetes-engine/" title="Continuous Delivery with Jenkins in Kubernetes Engine" class="dd-item ">
        <a href="/google-cloud-platform/continuous-delivery-with-jenkins-in-kubernetes-engine/">
        Continuous Delivery with Jenkins in Kubernetes Engine
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-cloud-platform/network-concepts/" title="Network Concepts" class="dd-item ">
        <a href="/google-cloud-platform/network-concepts/">
        Network Concepts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-cloud-platform/orchestrating-cloud-with-kubernetes/" title="Orchestrating Cloud with Kubernetes" class="dd-item ">
        <a href="/google-cloud-platform/orchestrating-cloud-with-kubernetes/">
        Orchestrating Cloud with Kubernetes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/introduction-to-kubernetes/" title="Introduction to Kubernetes" class="dd-item 
        parent
        
        
        ">
      <a href="/introduction-to-kubernetes/">
          Introduction to Kubernetes
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/introduction-to-kubernetes/containers-and-orchestration/" title="Containers and Orchestration" class="dd-item 
        
        
        
        ">
      <a href="/introduction-to-kubernetes/containers-and-orchestration/">
          Containers and Orchestration
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/introduction-to-kubernetes/kubernetes/" title="Kubernetes" class="dd-item 
        parent
        
        
        ">
      <a href="/introduction-to-kubernetes/kubernetes/">
          Kubernetes
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/01_kubernetes-architecture/" title="01 - Kubernetes Architecture" class="dd-item ">
        <a href="/introduction-to-kubernetes/kubernetes/01_kubernetes-architecture/">
        01 - Kubernetes Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/02_installing_kubernetes/" title="02 - Installing Kubernetes" class="dd-item ">
        <a href="/introduction-to-kubernetes/kubernetes/02_installing_kubernetes/">
        02 - Installing Kubernetes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/03_minikube/" title="03 - Minikube" class="dd-item ">
        <a href="/introduction-to-kubernetes/kubernetes/03_minikube/">
        03 - Minikube
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/04_kubernetes_building_blocks/" title="04 - Kubernetes Building Blocks" class="dd-item active">
        <a href="/introduction-to-kubernetes/kubernetes/04_kubernetes_building_blocks/">
        04 - Kubernetes Building Blocks
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/05_authorization_access_control/" title="05 - Authentication, Authorization, and Admission Control" class="dd-item ">
        <a href="/introduction-to-kubernetes/kubernetes/05_authorization_access_control/">
        05 - Authentication, Authorization, and Admission Control
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/06_services/" title="06 - Services" class="dd-item ">
        <a href="/introduction-to-kubernetes/kubernetes/06_services/">
        06 - Services
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction-to-kubernetes/kubernetes/07_deploying_standalone_app/" title="07 - Deploying Standalone App" class="dd-item ">
        <a href="/introduction-to-kubernetes/kubernetes/07_deploying_standalone_app/">
        07 - Deploying Standalone App
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/javascript/" title="JavaScript" class="dd-item 
        
        
        
        ">
      <a href="/javascript/">
          JavaScript
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/javascript/es-6/arrowfunctions/" title="Arrow Functions" class="dd-item ">
        <a href="/javascript/es-6/arrowfunctions/">
        Arrow Functions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/javascript/es-6/destructuring/" title="Destructuring JavaScript Objects" class="dd-item ">
        <a href="/javascript/es-6/destructuring/">
        Destructuring JavaScript Objects
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/javascript/reactjs/redux/" title="Getting Started with Redux" class="dd-item ">
        <a href="/javascript/reactjs/redux/">
        Getting Started with Redux
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/javascript/template-literals/" title="Teplate Literals" class="dd-item ">
        <a href="/javascript/template-literals/">
        Teplate Literals
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/hugo-basics/" title="Using Hugo" class="dd-item 
        
        
        
        ">
      <a href="/hugo-basics/">
          Using Hugo
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/hugo-basics/basic_1/" title="Getting Started" class="dd-item ">
        <a href="/hugo-basics/basic_1/">
        Getting Started
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/hugo-basics/basic_2/" title="Layouts" class="dd-item ">
        <a href="/hugo-basics/basic_2/">
        Layouts
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Digital Learning Notebook</a> > <a href='/introduction-to-kubernetes/'>Introduction to Kubernetes</a> > <a href='/introduction-to-kubernetes/kubernetes/'>Kubernetes</a> > 04 - Kubernetes Building Blocks
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#kubernetes-object-model">Kubernetes Object Model</a></li>
<li><a href="#pods">Pods</a>
<ul>
<li><a href="#labels">Labels</a></li>
</ul></li>
<li><a href="#replication-controller">Replication Controller</a></li>
<li><a href="#replica-set">Replica Set</a></li>
<li><a href="#deployments">Deployments</a></li>
<li><a href="#namespaces">Namespaces</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              04 - Kubernetes Building Blocks
            </h1>
          

        





<ul>
<li><a href="#kubernetes-object-model">Kubernetes Object Model</a></li>
<li><a href="#pods">Pods</a>

<ul>
<li><a href="#labels">Labels</a></li>
</ul></li>
<li><a href="#replication-controller">Replication Controller</a></li>
<li><a href="#replica-set">Replica Set</a></li>
<li><a href="#deployments">Deployments</a></li>
<li><a href="#namespaces">Namespaces</a></li>
</ul>

<h2 id="kubernetes-object-model">Kubernetes Object Model</h2>

<p>With each object, we declare our intent or the desired state under the <em>spec</em> section. When creating an object, the object&rsquo;s configuration data section from below the <em>spec</em> field has to be submitted to the Kubernetes API server.</p>

<p>Example of <em>Deployment</em> object configuration in YAML format.</p>

<pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
  labels:
    app: nginx
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:1.15.11
        ports:
        - containerPort: 80
</code></pre>

<h2 id="pods">Pods</h2>

<p>A pod is the basic unit that Kubernetes deals with. Containers themselves are not assigned to hosts. Instead, closely related containers are grouped together in a pod. A pod generally represents one or more containers that should be controlled as a single “application”.</p>

<p>A Pod is the smallest and simplest Kubernetes object. It is the unit of deployment in Kubernetes, which represents a single instance of the application. A Pod is a logical collection of one or more containers, which:</p>

<ul>
<li>Are scheduled together on the same host with the Pod</li>
<li>Share the same network namespace</li>
<li>Have access to mount the same external storage (volumes).</li>
</ul>

<p>Below is an example of a Pod object&rsquo;s configuration in YAML format:</p>

<pre><code class="language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
  labels:
    app: nginx
spec:
  containers:
  - name: nginx
    image: nginx:1.15.11
    ports:
    - containerPort: 80
</code></pre>

<pre><code class="language-bash"># List all the Pods
kubectl get pods

# Displays details of Pod
kubectl describe pod webserver-74d8bd488f-dwbzz
</code></pre>

<h3 id="labels">Labels</h3>

<p>Labels are key-value pairs attached to Kubernetes objects (e.g. Pods, ReplicaSets). Labels are used to organize and select a subset of objects, based on the requirements in place. Many objects can have the same Label(s). Labels do not provide uniqueness to objects. Controllers use Labels to logically group together decoupled objects, rather than using objects&rsquo; names or IDs.</p>

<pre><code class="language-bash"># Lists Pods with labels
kubectl get pods -L k8s-app,label2

# Select the Pods with a given Label
kubectl get pods -l k8s-app=webserver
</code></pre>

<h2 id="replication-controller">Replication Controller</h2>

<p>Although no longer a recommended method, a ReplicationController is a controller that ensures a specified number of replicas of a Pod is running at any given time. If there are more Pods than the desired count, a replication controller would terminate the extra Pods, and, if there are fewer Pods, then the replication controller would create more Pods to match the desired count. Generally, we don&rsquo;t deploy a Pod independently, as it would not be able to re-start itself if terminated in error. The recommended method is to use some type of replication controllers to create and manage Pods.</p>

<p>The default controller is a Deployment which configures a ReplicaSet to manage Pods&rsquo; lifecycle.</p>

<h2 id="replica-set">Replica Set</h2>

<p>A ReplicaSet is the next-generation ReplicationController. ReplicaSets support both equality- and set-based selectors, whereas ReplicationControllers only support equality-based Selectors. Currently, this is the only difference.</p>

<p>With the help of the ReplicaSet, we can scale the number of Pods running a specific container application image. Scaling can be accomplished manually or through the use of an autoscaler.</p>


<div class="notices info" ><p>A ReplicaSet ensures that a specified number of pod replicas are running at any given time.</p>
</div>


<pre><code class="language-bash"># List Replica Sets
kubectl get replicasets
</code></pre>

<h2 id="deployments">Deployments</h2>

<p>Deployment objects provide declarative updates to Pods and ReplicaSets. The DeploymentController is part of the master node&rsquo;s controller manager, and it ensures that the current state always matches the desired state. It allows for seamless application updates and downgrades through rollouts and rollbacks, and it directly manages its ReplicaSets for application scaling.</p>

<pre><code class="language-bash"># Lists all the Deployments in a given namespace
kubectl get deployments

# Deleting Deployment (Along with ReplicaSet and Pods)
kubectl delete deployments webserver
</code></pre>


<div class="notices note" ><p>Deleting a Deployment also deletes the ReplicaSet and the Pods it created.</p>
</div>


<h2 id="namespaces">Namespaces</h2>

<p>If multiple users and teams use the same Kubernetes cluster we can partition the cluster into virtual sub-clusters using Namespaces. The names of the resources/objects created inside a Namespace are unique, but not across Namespaces in the cluster.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/introduction-to-kubernetes/kubernetes/03_minikube/" title="03 - Minikube"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/introduction-to-kubernetes/kubernetes/05_authorization_access_control/" title="05 - Authentication, Authorization, and Admission Control" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1573879843"></script>
    <script src="/js/perfect-scrollbar.min.js?1573879843"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1573879843"></script>
    <script src="/js/jquery.sticky.js?1573879843"></script>
    <script src="/js/featherlight.min.js?1573879843"></script>
    <script src="/js/html5shiv-printshiv.min.js?1573879843"></script>
    <script src="/js/highlight.pack.js?1573879843"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1573879843"></script>
    <script src="/js/learn.js?1573879843"></script>
    <script src="/js/hugo-learn.js?1573879843"></script>

    <link href="/mermaid/mermaid.css?1573879843" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1573879843"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

